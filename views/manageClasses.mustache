<!DOCTYPE html>
<html>
<head>
  {{> header}}
</head>
<body class="container mt-4">

<h2 class="mb-4">Manage Classes</h2>

<a href="/organiser/classes/add" class="btn btn-success mb-3">Add New Class</a>

<table class="table table-bordered">
  <thead class="table-light">
    <tr>
      <th>Course</th>
      <th>Date</th>
      <th>Time</th>
      <th>Location</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {{#classes}}
    <tr>
      <td>{{courseName}}</td>
      <td>{{date}}</td>
      <td>{{time}}</td>
      <td>{{location}}</td>
      <td>
        <a href="/organiser/classes/edit/{{_id}}" class="btn btn-outline-secondary btn-sm">Edit</a>
        <form method="POST" action="/organiser/classes/delete/{{_id}}" style="display:inline;">
          <button class="btn btn-danger btn-sm">Delete</button>
        </form>
      </td>
    </tr>
    <tr>
      <td colspan="5">
        {{#participants.length}}
        <strong>Participants:</strong>
        <ul class="list-group mb-3">
          {{#participants}}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            {{name}} ({{email}})
            <form method="POST" action="/organiser/classes/{{classId}}/remove/{{id}}">
              <button class="btn btn-sm btn-danger">Remove</button>
            </form>
          </li>
          {{/participants}}
        </ul>
        {{/participants.length}}

        {{^participants.length}}
        <em>No participants yet.</em>
        {{/participants.length}}
      </td>
    </tr>
    {{/classes}}
  </tbody>
</table>

</body>
</html>
